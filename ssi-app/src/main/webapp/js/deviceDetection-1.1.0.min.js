(function(BrowserMap){var cookiePrefix="BMAP_",deviceGroupCookieName="device",deviceOverrideParameter="device",languageOverrideParameter="language",enableForwardingWhenCookiesDisabled=false,matchRun=false,languageOverride=null,matchedDeviceGroups={},probes={},probeCache={},deviceGroups={};BrowserMap.THE_ANSWER_TO_LIFE_THE_UNIVERSE_AND_EVERYTHING=42;BrowserMap.VERSION="<%= pkg.version %>";var linkDataDevgroups="data-bmap-devgroups";var linkcurrentVariant="data-bmap-currentvar";BrowserMap.getProbingResults=function(){var probingResults={},probe;for(probe in probes){if(probes.hasOwnProperty(probe)){probingResults[probe]=BrowserMap.probe(probe);}}return probingResults;};BrowserMap.config=function(config){if(config.cookiePrefix!==null){cookiePrefix=config.cookiePrefix;}if(config.deviceGroupCookieName!==null){deviceGroupCookieName=config.deviceGroupCookieName;}if(config.deviceOverrideParameter!==null){deviceOverrideParameter=config.deviceOverrideParameter;}if(config.languageOverrideParameter!==null){languageOverrideParameter=config.languageOverrideParameter;}if(config.enableForwardingWhenCookiesDisabled!==null){enableForwardingWhenCookiesDisabled=config.enableForwardingWhenCookiesDisabled;}};BrowserMap.getAllAlternateSites=function(){var alternateSites=[],links,i,link,headElement,onIE7,linkHref,devgroups;onIE7=navigator.appVersion.indexOf("MSIE 7")!==-1;headElement=document.getElementsByTagName("head")[0];if(headElement){links=headElement.getElementsByTagName("link");for(i=0;i<links.length;i++){link=links[i];devgroups=link.getAttribute(linkDataDevgroups);if(link.rel=="alternate"&&devgroups&&devgroups!==""){if(onIE7){linkHref=BrowserMapUtil.Url.qualifyURL(link.href);}else{linkHref=link.href;}alternateSites.push({"id":link.id,"href":linkHref,"hreflang":link.hreflang,"devgroups":devgroups});}}}return alternateSites;};BrowserMap.getAlternateSite=function(deviceGroups,filter){var alternateSites=BrowserMap.getAllAlternateSites(),maxLinkScore=0,alternateSite=null,i,j,linkScore,devices;for(i=0;i<alternateSites.length;i++){linkScore=0;devices=alternateSites[i].devgroups.split(",");for(j=0;j<devices.length;j++){if(deviceGroups.indexOf(devices[j].trim())!==-1){linkScore++;}}if(typeof filter=="function"&&linkScore>0){if(filter(alternateSites[i])){linkScore++;}}if(linkScore>maxLinkScore){alternateSite=alternateSites[i];maxLinkScore=linkScore;}}return alternateSite;};BrowserMap.getCurrentVariant=function(){var headElement=document.getElementsByTagName("head")[0],i=0,currentVariant=null,currentVariantAttribute,links,link,onIE7,linkHref,devgroups;onIE7=navigator.appVersion.indexOf("MSIE 7")!==-1;if(headElement){links=headElement.getElementsByTagName("link");for(i=0;i<links.length;i++){link=links[i];if(link.rel=="alternate"){if(onIE7){linkHref=BrowserMapUtil.Url.qualifyURL(link.href);}else{linkHref=link.href;}devgroups=link.getAttribute(linkDataDevgroups);currentVariantAttribute=link.getAttribute(linkcurrentVariant);if(currentVariantAttribute&&currentVariantAttribute==="true"){currentVariant={"id":link.id,"href":linkHref,"hreflang":link.hreflang,"devgroups":devgroups};break;}}}}return currentVariant;};BrowserMap.getDeviceGroupsInRankingOrder=function(){var dgs=[],dg;for(dg in deviceGroups){if(deviceGroups.hasOwnProperty(dg)){dgs.push(deviceGroups[dg]);}}dgs.sort(function(a,b){return a.ranking-b.ranking;});return dgs;};BrowserMap.probe=function(probeName){if(!probes[probeName]){return null;}if(!probeCache.hasOwnProperty(probeName)){probeCache[probeName]=probes[probeName]();}return probeCache[probeName];};BrowserMap.getNewURL=function(currentURL,detectedDeviceGroups,urlSelectors){var newURL=null,currentVariant=BrowserMap.getCurrentVariant(),alternateSite=BrowserMap.getAlternateSite(detectedDeviceGroups,function(alternateLink){if(languageOverride&&alternateLink.hreflang&&alternateLink.hreflang.lastIndexOf(languageOverride)===0){return true;}else{if(currentVariant&&currentVariant.hreflang===alternateLink.hreflang){return true;}}return false;}),i,dg,parameters=BrowserMapUtil.Url.getURLParametersString(currentURL),urlNoParams=currentURL.replace(parameters,"");if(alternateSite){newURL=alternateSite.href;}if(!newURL){for(i=0;i<detectedDeviceGroups.length;i++){dg=BrowserMap.getDeviceGroupByName(detectedDeviceGroups[i]);if(dg){newURL=dg.url;if(newURL){break;}}}}if(!newURL){newURL=BrowserMapUtil.Url.addSelectorsToURL(urlNoParams,urlSelectors);}if(parameters){newURL+=parameters;}return newURL;};BrowserMap.removeOverride=function(){var oCookie=BrowserMapUtil.CookieManager.getCookie("o_"+cookiePrefix+deviceGroupCookieName),currentURL=window.location.href,parameters=BrowserMapUtil.Url.getURLParametersString(currentURL),overrideParameter,indexOfOverride;if(oCookie){BrowserMapUtil.CookieManager.removeCookie(cookiePrefix+deviceGroupCookieName);BrowserMapUtil.CookieManager.removeCookie(oCookie.name);oCookie.name=cookiePrefix+deviceGroupCookieName;oCookie.path="/";BrowserMapUtil.CookieManager.setCookie(oCookie);}if(parameters){overrideParameter=deviceOverrideParameter+"="+BrowserMapUtil.Url.getValueForParameter(currentURL,deviceOverrideParameter);currentURL=currentURL.replace(parameters,"");indexOfOverride=parameters.indexOf(overrideParameter);if(indexOfOverride!==-1){if(parameters.length>indexOfOverride+overrideParameter.length){if(parameters[indexOfOverride-1]=="?"){parameters=parameters.replace(overrideParameter+"&","");}else{parameters=parameters.replace("&"+overrideParameter,"");}}else{parameters=parameters.replace("?"+overrideParameter,"");}}currentURL+=parameters;}window.location=currentURL;};BrowserMap.forwardRequest=function(){var currentURL=window.location.href,deviceOverride=BrowserMapUtil.Url.getValueForParameter(currentURL,deviceOverrideParameter),detectedDeviceGroups=[],urlSelectors=[],oCookie=BrowserMapUtil.CookieManager.getCookie("o_"+cookiePrefix+deviceGroupCookieName),cookie=BrowserMapUtil.CookieManager.getCookie(cookiePrefix+deviceGroupCookieName),dgs=[],i,g,registeredDeviceGroups,dgName,domain,aTags,url,parameters,newURL,canonicalURL=BrowserMapUtil.Url.getCanonicalURL();if(BrowserMap.isEnabled()){languageOverride=BrowserMapUtil.Url.getValueForParameter(currentURL,languageOverrideParameter);if(deviceOverride){detectedDeviceGroups=deviceOverride.split(",");if(detectedDeviceGroups.length>0){if(BrowserMapUtil.CookieManager.cookiesEnabled()){if(!oCookie&&!cookie){oCookie=new Cookie();oCookie.name="o_"+cookiePrefix+deviceGroupCookieName;oCookie.path="/";BrowserMap.matchDeviceGroups();for(g in matchedDeviceGroups){if(matchedDeviceGroups.hasOwnProperty(g)){dgs.push(matchedDeviceGroups[g].name);}}if(deviceOverride!==dgs.join(",")){oCookie.value=dgs.join(",");BrowserMapUtil.CookieManager.setCookie(oCookie);}}else{if(!oCookie){if(cookie.value!==detectedDeviceGroups.join(",")){cookie.name="o_"+cookie.name;cookie.path="/";BrowserMapUtil.CookieManager.setCookie(cookie);}}}cookie=new Cookie();cookie.name=cookiePrefix+deviceGroupCookieName;cookie.value=detectedDeviceGroups.join(",");cookie.path="/";BrowserMapUtil.CookieManager.setCookie(cookie);if(oCookie){if(oCookie.value==cookie.value){BrowserMapUtil.CookieManager.removeCookie(oCookie.name);}}}}}if(cookie!==null||deviceOverride){registeredDeviceGroups=BrowserMap.getDeviceGroups();if(detectedDeviceGroups.length===0){detectedDeviceGroups=cookie.value.split(",");}matchedDeviceGroups={};for(i=0;i<detectedDeviceGroups.length;i++){dgName=detectedDeviceGroups[i].trim();if(registeredDeviceGroups.hasOwnProperty(dgName)){if(registeredDeviceGroups[dgName].isSelector){urlSelectors.push(dgName);}matchedDeviceGroups[dgName]=registeredDeviceGroups[dgName];}}if(deviceOverride&&cookie===null&&enableForwardingWhenCookiesDisabled){domain=BrowserMapUtil.Url.getDomainFromURL(window.location.href);aTags=document.getElementsByTagName("a");for(i=0;i<aTags.length;i++){url=aTags[i].href;if(url&&url.indexOf(domain)!==-1){parameters=BrowserMapUtil.Url.getURLParametersString(url);if(parameters){if(parameters.indexOf(languageOverrideParameter+"="+deviceOverride)==-1){aTags[i].href=url+"&"+deviceOverrideParameter+"="+deviceOverride;}}else{aTags[i].href=url+"?"+deviceOverrideParameter+"="+deviceOverride;}}}}}else{BrowserMap.matchDeviceGroups();for(g in matchedDeviceGroups){if(matchedDeviceGroups.hasOwnProperty(g)){if(matchedDeviceGroups[g].isSelector){urlSelectors.push(matchedDeviceGroups[g].name);}detectedDeviceGroups.push(matchedDeviceGroups[g].name);}}cookie=new Cookie();cookie.name=cookiePrefix+deviceGroupCookieName;cookie.value=detectedDeviceGroups.join(",");cookie.path="/";BrowserMapUtil.CookieManager.setCookie(cookie);}newURL=BrowserMap.getNewURL(currentURL,detectedDeviceGroups,urlSelectors);if(currentURL!==newURL&&canonicalURL!==newURL){window.location=newURL;}}};BrowserMap.clearProbeCache=function(){probeCache={};};BrowserMap.addDeviceGroup=function(deviceGroup){if(typeof deviceGroup.ranking!=="number"){throw new TypeError("Expected a Number for device group "+deviceGroup.name+" ranking");}if(typeof deviceGroup.testFunction!=="function"){throw new TypeError("Expected a Function for device group "+deviceGroup.name+" testFunction");}deviceGroups[deviceGroup.name]=deviceGroup;};BrowserMap.addProbe=function(name,probe){if(typeof name!=="string"||name.length<1){throw new TypeError("invalid probe name");}if(typeof probe!=="function"){throw new TypeError("invalid probe function");}if(!probes.hasOwnProperty(name)){probes[name]=probe;}return BrowserMap;};BrowserMap.getMatchedDeviceGroups=function(){return matchedDeviceGroups;};BrowserMap.getDeviceGroups=function(){return deviceGroups;};BrowserMap.matchDeviceGroups=function(){var deviceGroupsArray=BrowserMap.getDeviceGroupsInRankingOrder(),i,deviceGroup;for(i=0;i<deviceGroupsArray.length;i++){deviceGroup=deviceGroupsArray[i];if(!!deviceGroup.testFunction.call()){matchedDeviceGroups[deviceGroup.name]=deviceGroup;}}matchRun=true;};BrowserMap.getDeviceGroupByName=function(groupName){return deviceGroups[groupName];};BrowserMap.isEnabled=function(){var headElement=document.getElementsByTagName("head")[0],metaTags,i,name,tag;if(headElement){metaTags=headElement.getElementsByTagName("meta");for(i=0;i<metaTags.length;i++){if((tag=metaTags[i])&&(name=tag.getAttribute("name"))){if(name==="browsermap.enabled"&&tag.getAttribute("content")==="false"){return false;}}}}return true;};return BrowserMap;})(window.BrowserMap=window.BrowserMap||{});
(function(BrowserMapUtil){BrowserMapUtil.merge=function(hsh1,hsh2){var hsh={},prop;for(prop in hsh1){if(hsh1.hasOwnProperty(prop)){hsh[prop]=hsh1[prop];}}for(prop in hsh2){if(hsh2.hasOwnProperty(prop)){hsh[prop]=hsh2[prop];}}return hsh;};BrowserMapUtil.getArrayDifference=function(a,b){if(!a instanceof Array){throw new TypeError("Expected Array for a");}if(!b instanceof Array){throw new TypeError("Expected Array for b");}var i,seen=[],diff=[];for(i=0;i<b.length;i++){seen[b[i]]=true;}for(i=0;i<a.length;i++){if(!seen[a[i]]){diff.push(a[i]);}}return diff;};BrowserMapUtil.CookieManager={getCookie:function(name){if(!name||!this.cookieExists(name)){return null;}var cookieValue=decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"));var cookie=new Cookie(name,cookieValue);return cookie;},setCookie:function(cookie){if(!cookie.name||/^(?:expires|max\-age|path|domain|secure)$/.test(cookie.name)){return;}var sExpires="";if(cookie.expires){switch(typeof cookie.expires){case"number":sExpires="; max-age="+cookie.expires;break;case"String":sExpires="; expires="+cookie.expires;break;case"object":if(cookie.expires.hasOwnProperty("toGMTString")){sExpires="; expires="+cookie.expires.toGMTString();}break;}}document.cookie=encodeURIComponent(cookie.name)+"="+encodeURIComponent(cookie.value)+sExpires+(cookie.domain?"; domain="+cookie.domain:"")+(cookie.path?"; path="+cookie.path:"")+(cookie.secure?"; secure":"");},removeCookie:function(name){if(!name||!this.cookieExists(name)){return;}var oExpDate=new Date();oExpDate.setDate(oExpDate.getDate()-1);document.cookie=encodeURIComponent(name)+"=; expires="+oExpDate.toGMTString()+";";},cookieExists:function(name){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(name).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie);},cookiesEnabled:function(){var cookie=new Cookie("browsermap_test_cookie","browsermap_test_cookie",10,"/");this.setCookie(cookie);var testCookie=this.getCookie("browsermap_test_cookie");if(testCookie!==null){this.removeCookie("browsermap_test_cookie");return true;}return false;}};BrowserMapUtil.File={getFileExtension:function(file){var extension="";if(file&&file!==""&&file.indexOf(".")!=-1){extension=file.substring(file.lastIndexOf(".")+1,file.length);}return extension;},removeSelectorsFromFile:function(file){if(file&&file!==""){var tokens=file.split(".");if(tokens.length>2){return tokens[0]+"."+tokens[tokens.length-1];}}return file;}};BrowserMapUtil.Url={getDomainFromURL:function(url){var domain="";url=url.replace(/http:\/\/|https:\/\//,"");var slashIndex=url.indexOf("/");if(slashIndex==-1){domain=url;}else{domain=url.substring(0,slashIndex);}return domain;},decodeURLParameterValue:function(value){return decodeURIComponent(value.replace(/\+/g," "));},getURLParameters:function(url){var map={},self=this;var f=function(m,key,value){map[key]=self.decodeURLParameterValue(value);};url.replace(/[?&]+([^=&]+)=([^&]*)/gi,f);return map;},getValueForParameter:function(url,parameter){return this.getURLParameters(url)[parameter];},getURLParametersString:function(url){var urlParametersString="";if(url&&url!==""&&url.lastIndexOf("?")!=-1){urlParametersString=url.substring(url.lastIndexOf("?"),url.length);}return urlParametersString;},getFileFromURL:function(url){var file="";if(url&&url!==""){url=url.replace("https://","");url=url.replace("http://","");url=url.replace(BrowserMapUtil.Url.getURLParametersString(url),"");if(url.lastIndexOf("/")!=-1&&url[url.lastIndexOf("/")+1]!="?"){file=url.substring(url.lastIndexOf("/")+1,url.length);}}return file;},getFolderPathFromURL:function(url){var folderPath="";var tmpURL=url;tmpURL=tmpURL.replace("https://","");tmpURL=tmpURL.replace("http://","");if(tmpURL&&tmpURL!==""&&tmpURL.lastIndexOf("/")!=-1){folderPath=tmpURL.substring(0,tmpURL.lastIndexOf("/")+1);folderPath=url.substring(0,url.indexOf(folderPath))+folderPath;}return folderPath;},getSelectorsFromURL:function(url){var selectors=[];if(url&&url!==""){url=url.replace("https://","");url=url.replace("http://","");if(url.lastIndexOf("?")!=-1){url=url.substring(0,url.lastIndexOf("?"));}if(url.lastIndexOf("/")!=-1){url=url.substring(url.lastIndexOf("/")+1,url.length);var selectorCandidates=url.split(".");if(selectorCandidates.length>2){for(var i=1;i<selectorCandidates.length-1;i++){selectors.push(selectorCandidates[i]);}}}}return selectors;},addSelectorsToURL:function(url,selectors){var file=this.getFileFromURL(url),parameters=BrowserMapUtil.Url.getURLParametersString(url);file=BrowserMapUtil.File.removeSelectorsFromFile(file);if(file&&file!==""){var path=this.getFolderPathFromURL(url);var extension=BrowserMapUtil.File.getFileExtension(file);file=file.replace("."+extension,"");var newURL=path+file;if(selectors.length>0){newURL+=".";}newURL+=selectors.join(".");if(extension&&extension!==""){newURL+="."+extension;}newURL+=parameters;return newURL;}return url;},qualifyURL:function(url){var absoluteURL=null,el;if(url){el=document.createElement("div");el.innerHTML='<a href="'+encodeURI(url)+'">x</a>';absoluteURL=el.firstChild.href;}return absoluteURL;},getCanonicalURL:function(){var headElement=document.getElementsByTagName("head")[0],links,i,link,url;if(headElement){links=headElement.getElementsByTagName("link");if(links){for(i=0;i<links.length;i++){link=links[i];if(link.rel&&link.rel==="canonical"){url=link.href;break;}}}}return url;}};})(window.BrowserMapUtil=window.BrowserMapUtil||{});function Cookie(name,value,expires,path,domain,secure){if(!(this instanceof Cookie)){return new Cookie(name,value,expires,path,domain,secure);}this.name=name;this.value=value;this.expires=expires;this.path=path;this.domain=domain;this.secure=secure;}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(len===0){return -1;}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){n=0;}else{if(n!==0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}}if(n>=len){return -1;}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}return -1;};}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};}
BrowserMap.addDeviceGroup({"ranking":0,"name":"smartphone","description":"Smartphone","testFunction":function(){if(BrowserMap.probe("clientWidth")>480&&BrowserMap.probe("portrait")){return false;}if(BrowserMap.probe("clientWidth")>=900&&BrowserMap.probe("landscape")){return false;}if(BrowserMap.probe("canResizeBrowserWindow")){return false;}return true;},"isSelector":true});BrowserMap.addDeviceGroup({"ranking":10,"name":"tablet","description":"Standard Tablet","testFunction":function(){if(BrowserMap.probe("portrait")&&BrowserMap.probe("clientWidth")<=480){return false;}if(BrowserMap.probe("landscape")&&BrowserMap.probe("clientWidth")<900){return false;}if(!Modernizr.touch){return false;}if(BrowserMap.probe("canResizeBrowserWindow")){return false;}return true;},"isSelector":true});BrowserMap.addDeviceGroup({"ranking":20,"name":"highResolutionDisplay","description":"High Resolution Display","testFunction":function(){return BrowserMap.probe("devicePixelRatio")>=2;},"isSelector":true});BrowserMap.addDeviceGroup({"ranking":30,"name":"browser","description":"Modern desktop browser","testFunction":function(){if(BrowserMap.probe("portrait")&&BrowserMap.probe("clientWidth")<720){return false;}if(BrowserMap.probe("landscape")&&BrowserMap.probe("clientWidth")<1200){return false;}return Modernizr.csstransforms3d&&!Modernizr.touch;},"isSelector":false});BrowserMap.addDeviceGroup({"ranking":Number.MAX_VALUE,"name":"oldBrowser","description":"Old desktop browser","testFunction":function(){for(var i in BrowserMap.getMatchedDeviceGroups()){if(BrowserMap.getMatchedDeviceGroups().hasOwnProperty(i)){return false;}}return true;},"isSelector":false});
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info=("getComputedStyle" in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}return info.width==="1px";}};}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"};};}());
/* Modernizr 2.7.1 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexboxlegacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-inlinesvg-smil-svg-svgclippaths-touch-webgl-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes
 */
;window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.7.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty,B;!E(A,"undefined")&&!E(A.call,"undefined")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return I("flexWrap")},s.flexboxlegacy=function(){return I("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I("indexedDB",a)},s.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},s.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},s.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return I("backgroundSize")},s.borderimage=function(){return I("borderImage")},s.borderradius=function(){return I("borderRadius")},s.boxshadow=function(){return I("boxShadow")},s.textshadow=function(){return b.createElement("div").style.textShadow===""},s.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return I("animationName")},s.csscolumns=function(){return I("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return C((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},s.cssreflections=function(){return I("boxReflect")},s.csstransforms=function(){return!!I("transform")},s.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},s.csstransitions=function(){return I("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var K in s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?"":"no-")+x));return e.input||J(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e}(this,this.document);
BrowserMap.addProbe("BrowserMap.version",function(){return BrowserMap.VERSION;}).addProbe("Modernizr.touch",function(){return Modernizr.touch;}).addProbe("Modernizr.csstransforms3d",function(){return Modernizr.csstransforms3d;}).addProbe("window.devicePixelRatio",function(){return window.devicePixelRatio;}).addProbe("window.orientation",function(){return window.orientation;}).addProbe("navigator.vendor",function(){return navigator.vendor;}).addProbe("navigator.platform",function(){return navigator.platform;}).addProbe("navigator.appName",function(){return navigator.appName;}).addProbe("navigator.appVersion",function(){return navigator.appVersion;}).addProbe("navigator.appCodeName",function(){return navigator.appCodeName;}).addProbe("navigator.userAgent",function(){return navigator.userAgent;}).addProbe("screenWidth",function(){return screen.width;}).addProbe("screenHeight",function(){return screen.height;}).addProbe("clientWidth",function(){return document.documentElement.clientWidth;}).addProbe("orientation",function(){var orientation="";if(window.innerWidth>window.innerHeight){orientation="landscape";}else{orientation="portrait";}return orientation;}).addProbe("portrait",function(){return BrowserMap.probe("orientation")=="portrait";}).addProbe("landscape",function(){return BrowserMap.probe("orientation")=="landscape";}).addProbe("screenWidthDependingOnOrientation",function(){var widthDependingOnOrientation=0;if(BrowserMap.probe("orientation")==="portrait"){widthDependingOnOrientation=screen.width>screen.height?screen.height:screen.width;}else{widthDependingOnOrientation=screen.width<screen.height?screen.height:screen.width;}return widthDependingOnOrientation;}).addProbe("clientWidthDependingOnOrientation",function(){var clientWidthDependingOnOrientation=0;if(BrowserMap.probe("orientation")=="portrait"){clientWidthDependingOnOrientation=document.documentElement.clientWidth<document.documentElement.clientHeight?document.documentElement.clientWidth:document.documentElement.clientHeight;}else{clientWidthDependingOnOrientation=document.documentElement.clientWidth>document.documentElement.clientHeight?document.documentElement.clientWidth:document.documentElement.clientHeight;}return clientWidthDependingOnOrientation;}).addProbe("devicePixelRatio",function(){var mq=window.matchMedia,ratio=-1,userAgent;if(mq){for(var i=0.5;i<=3;i+=0.05){var r=Math.round(i*100)/100;if(mq("(max-resolution: "+r+"dppx),                     (max-resolution: "+r*96+"dpi),                     (-webkit-max-device-pixel-ratio: "+r+"),                     (-o-device-pixel-ratio: "+r+")").matches){ratio=r;break;}}}userAgent=BrowserMap.probe("navigator.userAgent");if(userAgent.indexOf("BlackBerry")!=-1||userAgent.indexOf("Windows Phone")!=-1){ratio=Math.round(BrowserMap.probe("screenWidthDependingOnOrientation")/BrowserMap.probe("clientWidthDependingOnOrientation")*100)/100;}return ratio;}).addProbe("canResizeBrowserWindow",function(){return Math.round(BrowserMap.probe("screenWidthDependingOnOrientation")/BrowserMap.probe("devicePixelRatio"))-BrowserMap.THE_ANSWER_TO_LIFE_THE_UNIVERSE_AND_EVERYTHING>BrowserMap.probe("clientWidth");});
